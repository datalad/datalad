<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.api.create_sibling &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.api.create_sibling_github" href="datalad.api.create_sibling_github.html" />
    <link rel="prev" title="datalad.api.create" href="datalad.api.create.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../modref.html#dataset-operations">Dataset operations</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datalad.api.Dataset.html">datalad.api.Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create.html">datalad.api.create</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datalad.api.create_sibling</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_github.html">datalad.api.create_sibling_github</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitlab.html">datalad.api.create_sibling_gitlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gogs.html">datalad.api.create_sibling_gogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitea.html">datalad.api.create_sibling_gitea</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gin.html">datalad.api.create_sibling_gin</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.drop.html">datalad.api.drop</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.get.html">datalad.api.get</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.install.html">datalad.api.install</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.push.html">datalad.api.push</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.remove.html">datalad.api.remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.save.html">datalad.api.save</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.update.html">datalad.api.update</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.unlock.html">datalad.api.unlock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#metadata-handling">Metadata handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#reproducible-execution">Reproducible execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#plumbing-commands">Plumbing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#miscellaneous-commands">Miscellaneous commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.api.create_sibling</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datalad-api-create-sibling">
<h1>datalad.api.create_sibling<a class="headerlink" href="#datalad-api-create-sibling" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="datalad.api.create_sibling">
<span class="sig-prename descclassname"><span class="pre">datalad.api.</span></span><span class="sig-name descname"><span class="pre">create_sibling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sshurl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_pushurl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursion_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'error'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shared</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ui</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_common_datasrc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publish_by_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publish_depends</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_wanted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annex_groupwanted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inherit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">since</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.api.create_sibling" title="Permalink to this definition"></a></dt>
<dd><p>Create a dataset sibling on a UNIX-like Shell (local or SSH)-accessible machine</p>
<p>Given a local dataset, and a path or SSH login information this command
creates a remote dataset repository and configures it as a dataset sibling
to be used as a publication target (see <cite>publish</cite> command).</p>
<p>Various properties of the remote sibling can be configured (e.g. name
location on the server, read and write access URLs, and access
permissions.</p>
<p>Optionally, a basic web-viewer for DataLad datasets can be installed
at the remote location.</p>
<p>This command supports recursive processing of dataset hierarchies, creating
a remote sibling for each dataset in the hierarchy. By default, remote
siblings are created in hierarchical structure that reflects the
organization on the local file system. However, a simple templating
mechanism is provided to produce a flat list of datasets (see
–target-dir).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sshurl</strong> (<em>str</em>) – Login information for the target server. This can be given as a URL
(<a class="reference external" href="ssh://host/path">ssh://host/path</a>), SSH-style (<a class="reference external" href="mailto:user&#37;&#52;&#48;host">user<span>&#64;</span>host</a>:path) or just a local path.
Unless overridden, this also serves the future dataset’s access URL
and path on the server.</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – sibling name to create for this publication target. If <cite>recursive</cite>
is set, the same name will be used to label all the subdatasets’
siblings. When creating a target dataset fails, no sibling is added.
[Default: None]</p></li>
<li><p><strong>target_dir</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – path to the directory <em>on the server</em> where the dataset shall be
created. By default this is set to the URL (or local path) specified
via <cite>sshurl</cite>. If a relative path is provided here, it is interpreted
as being relative to the user’s home directory on the server (or
relative to <cite>sshurl</cite>, when that is a local path). Additional
features are relevant for recursive processing of datasets with
subdatasets. By default, the local dataset structure is replicated
on the server. However, it is possible to provide a template for
generating different target directory names for all (sub)datasets.
Templates can contain certain placeholder that are substituted for
each (sub)dataset. For example: “/mydirectory/dataset%%RELNAME”.
Supported placeholders: %%RELNAME - the name of the datasets, with
any slashes replaced by dashes. [Default: None]</p></li>
<li><p><strong>target_url</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – “public” access URL of the to-be-created target dataset(s) (default:
<cite>sshurl</cite>). Accessibility of this URL determines the access
permissions of potential consumers of the dataset. As with
<cite>target_dir</cite>, templates (same set of placeholders) are supported.
Also, if specified, it is provided as the annex description.
[Default: None]</p></li>
<li><p><strong>target_pushurl</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – In case the <cite>target_url</cite> cannot be used to publish to the dataset,
this option specifies an alternative URL for this purpose. As with
<cite>target_url</cite>, templates (same set of placeholders) are supported.
[Default: None]</p></li>
<li><p><strong>dataset</strong> (<a class="reference internal" href="datalad.api.Dataset.html#datalad.api.Dataset" title="datalad.api.Dataset"><em>Dataset</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – specify the dataset to create the publication target for. If no
dataset is given, an attempt is made to identify the dataset based
on the current working directory. [Default: None]</p></li>
<li><p><strong>recursive</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set, recurse into potential subdatasets. [Default: False]</p></li>
<li><p><strong>recursion_limit</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – limit recursion into subdatasets to the given number of levels.
[Default: None]</p></li>
<li><p><strong>existing</strong> (<em>{'skip'</em><em>, </em><em>'error'</em><em>, </em><em>'reconfigure'</em><em>, </em><em>'replace'}</em><em>, </em><em>optional</em>) – action to perform, if a sibling is already configured under the
given name and/or a target (non-empty) directory already exists. In
this case, a dataset can be skipped (‘skip’), the sibling
configuration be updated (‘reconfigure’), or process interrupts with
error (‘error’). DANGER ZONE: If ‘replace’ is used, an existing
target directory will be forcefully removed, re-initialized, and the
sibling (re-)configured (thus implies ‘reconfigure’). <cite>replace</cite>
could lead to data loss, so use with care.  To minimize possibility
of data loss, in interactive mode DataLad will ask for confirmation,
but it would raise an exception in non-interactive mode. [Default:
‘error’]</p></li>
<li><p><strong>shared</strong> (<em>str</em><em> or </em><em>bool</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – if given, configures the access permissions on the server for multi-
users (this could include access by a webserver!). Possible values
for this option are identical to those of <cite>git init –shared</cite> and
are described in its documentation. [Default: None]</p></li>
<li><p><strong>group</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Filesystem group for the repository. Specifying the group is
particularly important when shared=”group”. [Default: None]</p></li>
<li><p><strong>ui</strong> (<em>bool</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – publish a web interface for the dataset with an optional user-
specified name for the html at publication target. defaults to
<cite>index.html</cite> at dataset root. [Default: False]</p></li>
<li><p><strong>as_common_datasrc</strong> – configure the created sibling as a common data source of the dataset
that can be automatically used by all consumers of the dataset
(technical: git-annex auto-enabled special remote). [Default: None]</p></li>
<li><p><strong>publish_by_default</strong> (<em>list of str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – add a refspec to be published to this sibling by default if nothing
specified. [Default: None]</p></li>
<li><p><strong>publish_depends</strong> (<em>list of str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – add a dependency such that the given existing sibling is always
published prior to the new sibling. This equals setting a
configuration item ‘remote.SIBLINGNAME.datalad-publish-depends’.
Multiple dependencies can be given as a list of sibling names.
[Default: None]</p></li>
<li><p><strong>annex_wanted</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – expression to specify ‘wanted’ content for the repository/sibling.
See <a class="reference external" href="https://git-annex.branchable.com/git-annex-wanted/">https://git-annex.branchable.com/git-annex-wanted/</a> for more
information. [Default: None]</p></li>
<li><p><strong>annex_group</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – expression to specify a group for the repository. See <a class="reference external" href="https://git">https://git</a>-
annex.branchable.com/git-annex-group/ for more information.
[Default: None]</p></li>
<li><p><strong>annex_groupwanted</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – expression for the groupwanted. Makes sense only if
annex_wanted=”groupwanted” and annex-group is given too. See
<a class="reference external" href="https://git-annex.branchable.com/git-annex-groupwanted/">https://git-annex.branchable.com/git-annex-groupwanted/</a> for more
information. [Default: None]</p></li>
<li><p><strong>inherit</strong> (<em>bool</em><em>, </em><em>optional</em>) – if sibling is missing, inherit settings (git config, git annex
wanted/group/groupwanted) from its super-dataset. [Default: False]</p></li>
<li><p><strong>since</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – limit processing to subdatasets that have been changed since a given
state (by tag, branch, commit, etc). This can be used to create
siblings for recently added subdatasets. [Default: None]</p></li>
<li><p><strong>on_failure</strong> (<em>{'ignore'</em><em>, </em><em>'continue'</em><em>, </em><em>'stop'}</em><em>, </em><em>optional</em>) – behavior to perform on failure: ‘ignore’ any failure is reported,
but does not cause an exception; ‘continue’ if any failure occurs an
exception will be raised at the end, but processing other actions
will continue for as long as possible; ‘stop’: processing will stop
on first failure and an exception is raised. A failure is any result
with status ‘impossible’ or ‘error’. Raised exception is an
IncompleteResultsError that carries the result dictionaries of the
failures in its <cite>failed</cite> attribute. [Default: ‘continue’]</p></li>
<li><p><strong>result_filter</strong> (<em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – if given, each to-be-returned status dictionary is passed to this
callable, and is only returned if the callable’s return value does
not evaluate to False or a ValueError exception is raised. If the
given callable supports <cite>**kwargs</cite> it will additionally be passed
the keyword arguments of the original API call. [Default: None]</p></li>
<li><p><strong>result_renderer</strong> – select rendering mode command results. ‘tailored’ enables a command-
specific rendering style that is typically tailored to human
consumption, if there is one for a specific command, or otherwise
falls back on the the ‘generic’ result renderer; ‘generic’ renders
each result in one line  with key info like action, status, path,
and an optional message); ‘json’ a complete JSON line serialization
of the full result record; ‘json_pp’ like ‘json’, but pretty-printed
spanning multiple lines; ‘disabled’ turns off result rendering
entirely; ‘&lt;template&gt;’ reports any value(s) of any result properties
in any format indicated by the template (e.g. ‘{path}’, compare with
JSON output for all key-value choices). The template syntax follows
the Python “format() language”. It is possible to report individual
dictionary values, e.g. ‘{metadata[name]}’. If a 2nd-level key
contains a colon, e.g. ‘music:Genre’, ‘:’ must be substituted by ‘#’
in the template, like so: ‘{metadata[music#Genre]}’. [Default:
‘tailored’]</p></li>
<li><p><strong>result_xfm</strong> (<em>{'datasets'</em><em>, </em><em>'successdatasets-or-none'</em><em>, </em><em>'paths'</em><em>, </em><em>'relpaths'</em><em>, </em><em>'metadata'}</em><em> or </em><em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – if given, each to-be-returned result status dictionary is passed to
this callable, and its return value becomes the result instead. This
is different from <cite>result_filter</cite>, as it can perform arbitrary
transformation of the result value. This is mostly useful for top-
level command invocations that need to provide the results in a
particular format. Instead of a callable, a label for a pre-crafted
result transformation can be given. [Default: None]</p></li>
<li><p><strong>return_type</strong> (<em>{'generator'</em><em>, </em><em>'list'</em><em>, </em><em>'item-or-list'}</em><em>, </em><em>optional</em>) – return value behavior switch. If ‘item-or-list’ a single value is
returned instead of a one-item return value list, or a list in case
of multiple return values. <cite>None</cite> is return in case of an empty
list. [Default: ‘list’]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.api.create.html" class="btn btn-neutral float-left" title="datalad.api.create" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.api.create_sibling_github.html" class="btn btn-neutral float-right" title="datalad.api.create_sibling_github" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>