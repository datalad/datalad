<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datalad.api.get &mdash; DataLad 0.15.3+529.gc81453444.dirty documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="datalad.api.install" href="datalad.api.install.html" />
    <link rel="prev" title="datalad.api.drop" href="datalad.api.drop.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> DataLad
            <img src="../_static/datalad_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.15
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background and motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../related.html">Delineation from related solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">Basic principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../credentials.html">Credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customization.html">Customization and extension of functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cmdline.html">Command line reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../modref.html">Python module reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../modref.html#high-level-user-interface">High-level user interface</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../modref.html#dataset-operations">Dataset operations</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="datalad.api.Dataset.html">datalad.api.Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create.html">datalad.api.create</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling.html">datalad.api.create_sibling</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_github.html">datalad.api.create_sibling_github</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitlab.html">datalad.api.create_sibling_gitlab</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gogs.html">datalad.api.create_sibling_gogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gitea.html">datalad.api.create_sibling_gitea</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.create_sibling_gin.html">datalad.api.create_sibling_gin</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.drop.html">datalad.api.drop</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">datalad.api.get</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.install.html">datalad.api.install</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.push.html">datalad.api.push</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.remove.html">datalad.api.remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.save.html">datalad.api.save</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.update.html">datalad.api.update</a></li>
<li class="toctree-l4"><a class="reference internal" href="datalad.api.unlock.html">datalad.api.unlock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#metadata-handling">Metadata handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#reproducible-execution">Reproducible execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#plumbing-commands">Plumbing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../modref.html#miscellaneous-commands">Miscellaneous commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#support-functionality">Support functionality</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#configuration-management">Configuration management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#test-infrastructure">Test infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modref.html#command-line-interface-infrastructure">Command line interface infrastructure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DataLad</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../modref.html">Python module reference</a> &raquo;</li>
      <li>datalad.api.get</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datalad-api-get">
<h1>datalad.api.get<a class="headerlink" href="#datalad-api-get" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="datalad.api.get">
<span class="sig-prename descclassname"><span class="pre">datalad.api.</span></span><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursion_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reckless</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#datalad.api.get" title="Permalink to this definition"></a></dt>
<dd><p>Get any dataset content (files/directories/subdatasets).</p>
<p>This command only operates on dataset content. To obtain a new independent
dataset from some source use the <cite>clone</cite> command.</p>
<p>By default this command operates recursively within a dataset, but not
across potential subdatasets, i.e. if a directory is provided, all files in
the directory are obtained. Recursion into subdatasets is supported too. If
enabled, relevant subdatasets are detected and installed in order to
fulfill a request.</p>
<p>Known data locations for each requested file are evaluated and data are
obtained from some available location (according to git-annex configuration
and possibly assigned remote priorities), unless a specific source is
specified.</p>
<p><em>Getting subdatasets</em></p>
<p>Just as DataLad supports getting file content from more than one location,
the same is supported for subdatasets, including a ranking of individual
sources for prioritization.</p>
<p>The following location candidates are considered. For each candidate a
cost is given in parenthesis, higher values indicate higher cost, and thus
lower priority:</p>
<ul class="simple">
<li><p>URL of any configured superdataset remote that is known to have the
desired submodule commit, with the submodule path appended to it.
There can be more than one candidate (cost 500).</p></li>
<li><p>In case <cite>.gitmodules</cite> contains a relative path instead of a URL,
the URL of any configured superdataset remote that is known to have the
desired submodule commit, with this relative path appended to it.
There can be more than one candidate (cost 500).</p></li>
<li><p>A URL or absolute path recorded in <cite>.gitmodules</cite> (cost 600).</p></li>
<li><p>In case <cite>.gitmodules</cite> contains a relative path as a URL, the absolute
path of the superdataset, appended with this relative path (cost 900).</p></li>
</ul>
<p>Additional candidate URLs can be generated based on templates specified as
configuration variables with the pattern</p>
<blockquote>
<div><p><cite>datalad.get.subdataset-source-candidate-&lt;name&gt;</cite></p>
</div></blockquote>
<p>where <cite>name</cite> is an arbitrary identifier. If <cite>name</cite> starts with three digits
(e.g. ‘400myserver’) these will be interpreted as a cost, and the
respective candidate will be sorted into the generated candidate list
according to this cost. If no cost is given, a default of 700 is used.</p>
<p>A template string assigned to such a variable can utilize the Python format
mini language and may reference a number of properties that are inferred
from the parent dataset’s knowledge about the target subdataset. Properties
include any submodule property specified in the respective <cite>.gitmodules</cite>
record. For convenience, an existing <cite>datalad-id</cite> record is made available
under the shortened name <cite>id</cite>.</p>
<p>Additionally, the URL of any configured remote that contains the respective
submodule commit is available as <cite>remote-&lt;name&gt;</cite> properties, where <cite>name</cite>
is the configured remote name.</p>
<p>Lastly, all candidates are sorted according to their cost (lower values
first), and duplicate URLs are stripped, while preserving the first item in the
candidate list.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Power-user info: This command uses <strong class="command">git annex get</strong> to fulfill
file handles.</p>
</div>
<p class="rubric">Examples</p>
<p>Get a single file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;path/to/file&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Get contents of a directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;path/to/dir/&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Get all contents of the current dataset and its subdatasets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">get</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Get (clone) a registered subdataset, but don’t retrieve data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">get</span><span class="p">(</span><span class="s1">&#39;path/to/subds&#39;</span><span class="p">,</span> <span class="n">get_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>sequence of str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – path/name of the requested dataset component. The component must
already be known to a dataset. To add new components to a dataset
use the <cite>add</cite> command. [Default: None]</p></li>
<li><p><strong>source</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – label of the data source to be used to fulfill requests. This can be
the name of a dataset <a class="reference internal" href="../glossary.html#term-sibling"><span class="xref std std-term">sibling</span></a> or another known source.
[Default: None]</p></li>
<li><p><strong>dataset</strong> (<a class="reference internal" href="datalad.api.Dataset.html#datalad.api.Dataset" title="datalad.api.Dataset"><em>Dataset</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – specify the dataset to perform the add operation on, in which case
<cite>path</cite> arguments are interpreted as being relative to this dataset.
If no dataset is given, an attempt is made to identify a dataset for
each input <cite>path</cite>. [Default: None]</p></li>
<li><p><strong>recursive</strong> (<em>bool</em><em>, </em><em>optional</em>) – if set, recurse into potential subdatasets. [Default: False]</p></li>
<li><p><strong>recursion_limit</strong> (<em>int</em><em> or </em><em>{'existing'}</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – limit recursion into subdataset to the given number of levels.
Alternatively, ‘existing’ will limit recursion to subdatasets that
already existed on the filesystem at the start of processing, and
prevent new subdatasets from being obtained recursively. [Default:
None]</p></li>
<li><p><strong>get_data</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to obtain data for all file handles. If disabled, <cite>get</cite>
operations are limited to dataset handles. [Default: True]</p></li>
<li><p><strong>description</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – short description to use for a dataset location. Its primary purpose
is to help humans to identify a dataset copy (e.g., “mike’s dataset
on lab server”). Note that when a dataset is published, this
information becomes available on the remote side. [Default: None]</p></li>
<li><p><strong>reckless</strong> (<em>{None</em><em>, </em><em>True</em><em>, </em><em>False</em><em>, </em><em>'auto'</em><em>, </em><em>'ephemeral'}</em><em> or </em><em>shared-</em><em>...</em><em>, </em><em>optional</em>) – Obtain a dataset or subdatset and set it up in a potentially  unsafe
way for performance, or access reasons.  Use with care, any dataset
is marked as ‘untrusted’. The reckless mode is stored in a dataset’s
local configuration under ‘datalad.clone.reckless’, and will be
inherited to any of its subdatasets. Supported modes are: [‘auto’]:
hard-link files between local clones. In-place modification in any
clone will alter original annex content. [‘ephemeral’]: symlink
annex to origin’s annex and discard local availability info via git-
annex-dead ‘here’. Shares an annex between origin and clone w/o git-
annex being aware of it. In case of a change in origin you need to
update the clone before you’re able to save new content on your end.
Alternative to ‘auto’ when hardlinks are not an option, or number of
consumed inodes needs to be minimized. Note that this mode can only
be used with clones from non-bare repositories or a RIA store!
Otherwise two different annex object tree structures (dirhashmixed
vs dirhashlower) will be used simultaneously, and annex keys using
the respective other structure will be inaccessible.
[‘shared-&lt;mode&gt;’]: set up repository and annex permission to enable
multi-user access. This disables the standard write protection of
annex’ed files. &lt;mode&gt; can be any value support by ‘git init
–shared=’, such as ‘group’, or ‘all’. [Default: None]</p></li>
<li><p><strong>jobs</strong> (<em>int</em><em> or </em><em>None</em><em> or </em><em>{'auto'}</em><em>, </em><em>optional</em>) – how many parallel jobs (where possible) to use. “auto” corresponds
to the number defined by ‘datalad.runtime.max-annex-jobs’
configuration item. [Default: ‘auto’]</p></li>
<li><p><strong>on_failure</strong> (<em>{'ignore'</em><em>, </em><em>'continue'</em><em>, </em><em>'stop'}</em><em>, </em><em>optional</em>) – behavior to perform on failure: ‘ignore’ any failure is reported,
but does not cause an exception; ‘continue’ if any failure occurs an
exception will be raised at the end, but processing other actions
will continue for as long as possible; ‘stop’: processing will stop
on first failure and an exception is raised. A failure is any result
with status ‘impossible’ or ‘error’. Raised exception is an
IncompleteResultsError that carries the result dictionaries of the
failures in its <cite>failed</cite> attribute. [Default: ‘continue’]</p></li>
<li><p><strong>result_filter</strong> (<em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – if given, each to-be-returned status dictionary is passed to this
callable, and is only returned if the callable’s return value does
not evaluate to False or a ValueError exception is raised. If the
given callable supports <cite>**kwargs</cite> it will additionally be passed
the keyword arguments of the original API call. [Default: None]</p></li>
<li><p><strong>result_renderer</strong> – select rendering mode command results. ‘tailored’ enables a command-
specific rendering style that is typically tailored to human
consumption, if there is one for a specific command, or otherwise
falls back on the the ‘generic’ result renderer; ‘generic’ renders
each result in one line  with key info like action, status, path,
and an optional message); ‘json’ a complete JSON line serialization
of the full result record; ‘json_pp’ like ‘json’, but pretty-printed
spanning multiple lines; ‘disabled’ turns off result rendering
entirely; ‘&lt;template&gt;’ reports any value(s) of any result properties
in any format indicated by the template (e.g. ‘{path}’, compare with
JSON output for all key-value choices). The template syntax follows
the Python “format() language”. It is possible to report individual
dictionary values, e.g. ‘{metadata[name]}’. If a 2nd-level key
contains a colon, e.g. ‘music:Genre’, ‘:’ must be substituted by ‘#’
in the template, like so: ‘{metadata[music#Genre]}’. [Default:
‘tailored’]</p></li>
<li><p><strong>result_xfm</strong> (<em>{'datasets'</em><em>, </em><em>'successdatasets-or-none'</em><em>, </em><em>'paths'</em><em>, </em><em>'relpaths'</em><em>, </em><em>'metadata'}</em><em> or </em><em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – if given, each to-be-returned result status dictionary is passed to
this callable, and its return value becomes the result instead. This
is different from <cite>result_filter</cite>, as it can perform arbitrary
transformation of the result value. This is mostly useful for top-
level command invocations that need to provide the results in a
particular format. Instead of a callable, a label for a pre-crafted
result transformation can be given. [Default: None]</p></li>
<li><p><strong>return_type</strong> (<em>{'generator'</em><em>, </em><em>'list'</em><em>, </em><em>'item-or-list'}</em><em>, </em><em>optional</em>) – return value behavior switch. If ‘item-or-list’ a single value is
returned instead of a one-item return value list, or a list in case
of multiple return values. <cite>None</cite> is return in case of an empty
list. [Default: ‘list’]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datalad.api.drop.html" class="btn btn-neutral float-left" title="datalad.api.drop" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="datalad.api.install.html" class="btn btn-neutral float-right" title="datalad.api.install" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, DataLad team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>