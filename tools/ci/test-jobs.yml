# Job configurations for `.github/workflows/test.yml`
#
# Splitting these out into a separate file seems to be the only sane way to
# conditionally filter out jobs that should only be run on cron; cf.
# <https://stackoverflow.com/q/65384420/744178>.


# Two matrix runs for "recent python and git-annex with the recent supported by
# git annex new version of repo" and various extra options/features enabled for
# git-annex

- python-version: '3.12'
  extra-envs:
    PYTEST_SELECTION: ""
    PYTEST_SELECTION_OP: "not"
    DATALAD_REPO_VERSION: "10"
    DATALAD_TESTS_GITCONFIG: "\n[annex]\n stalldetection = 1KB/120s\n"
    _DL_ANNEX_INSTALL_SCENARIO: "miniconda --channel conda-forge --python-match minor --batch git-annex -m conda"

- python-version: '3.12'
  extra-envs:
    PYTEST_SELECTION: ""
    PYTEST_SELECTION_OP: ""
    DATALAD_REPO_VERSION: "10"
    DATALAD_TESTS_GITCONFIG: "\n[annex]\n stalldetection = 1KB/120s\n"
    _DL_ANNEX_INSTALL_SCENARIO: "miniconda --channel conda-forge --python-match minor --batch git-annex -m conda"
